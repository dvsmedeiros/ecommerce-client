<div class="page-header text-center">
	<h1>CADASTRO FORNECEDOR</h1>
</div>

<p ng-show="message.length" class="alert alert-info">{{message}}</p>

<form novalidate name="editForm" class="row" ng-submit="submit()">

	<div class="col-md-6">
		<div class="col-md-12">
		
			<div class="form-group" ng-class="{true: 'has-error',false: 'is-required'}[editForm.companyName.$dirty && editForm.companyName.$invalid]">
			    <label class="control-label" for="companyName">Razão Social *</label>
			    <input ng-model="supplier.companyName" type="text" class="form-control" name="companyName" placeholder="Company Name" required> 
			    <span class="help-block" ng-show="editForm.companyName.$dirty && editForm.companyName.$error.required">Razão Social é obrigatório.</span>
			</div>

			<div class="form-group" ng-class="{true: 'has-error',false: 'is-required'}[editForm.tradingName.$dirty && editForm.tradingName.$invalid]">
			    <label class="control-label" for="tradingName">Nome Fantasia *</label>
			    <input ng-model="supplier.tradingName" type="text" class="form-control" name="tradingName" placeholder="Trading Name" required> 
			    <span class="help-block" ng-show="editForm.tradingName.$dirty && editForm.tradingName.$error.required">Nome Fantasia é obrigatório.</span>
			</div>

			<div class="form-group" ng-class="{true: 'has-error',false: 'is-required'}[editForm.code.$dirty && editForm.code.$invalid]">
			    <label class="control-label" for="name">Código *</label>
			    <input ng-model="supplier.code" type="text" class="form-control" name="code" placeholder="Code" required>    
			    <span class="help-block" ng-show="editForm.code.$dirty && editForm.code.$error.required">Código do fornecedor é obrigatório.</span>
			</div>

		</div>
		
		<div class="col-md-4">
			<div class="form-group" ng-class="{true: 'has-error',false: 'is-required'}[editForm.cnpj.$dirty && editForm.cnpj.$invalid]">
			    <label class="control-label" for="cnpj">CNPJ *</label>
			    <!-- ui-br-cnpj-mask -->
			    <input ng-model="supplier.cnpj.number" type="text" class="form-control" name="cnpj" placeholder="CNPJ" required> 
			    <span class="help-block" ng-show="editForm.cnpj.$dirty && editForm.cnpj.$error.required">CNPJ é obrigatório.</span>
			</div>
		</div>

		<div class="col-md-4">
			<div class="form-group" ng-class="{true: 'has-error',false: 'is-required'}[editForm.municipalRegistration.$dirty && editForm.municipalRegistration.$invalid]">
			    <label class="control-label" for="municipalRegistration">Inscrição Municipal *</label>
			    <input ng-model="supplier.municipalRegistration.number" type="text" class="form-control" name="municipalRegistration" placeholder="Municipal Registration" required> 
			    <span class="help-block" ng-show="editForm.municipalRegistration.$dirty && editForm.municipalRegistration.$error.required">Inscrição Municipal é obrigatório.</span>
			</div>
		</div>

		<div class="col-md-4">
			<div class="form-group" ng-class="{true: 'has-error',false: 'is-required'}[editForm.stateRegistration.$dirty && editForm.stateRegistration.$invalid]">
			    <label class="control-label" for="stateRegistration">Inscrição Estadual *</label>
			    <input ng-model="supplier.stateRegistration.number" type="text" class="form-control" name="stateRegistration" placeholder="State Registration" required> 
			    <span class="help-block" ng-show="editForm.stateRegistration.$dirty && editForm.stateRegistration.$error.required">Inscrição Estadual é obrigatório.</span>
			</div>
		</div>

		<div class="col-md-12">
			<div class="form-group" ng-class="{true: 'has-error',false: 'is-required'}[editForm.email.$dirty && editForm.email.$invalid]">
			    <label class="control-label" for="email">Email *</label>
			    <input ng-model="supplier.email" type="text" class="form-control" name="email" placeholder="Email" required> 
			    <span class="help-block" ng-show="editForm.email.$dirty && editForm.email.$error.required">Email do produto é obrigatório.</span>
			</div>
		</div>

		<div class="col-md-6">
	      	<div class="form-group" ng-class="{true: 'has-error',false: 'is-required'}[editForm.firstPhoneNumber.$dirty && editForm.firstPhoneNumber.$invalid]">
	          	<label class="control-label" for="name">Telefone *</label>
	          	<input ng-model="supplier.phones[0].phone" type="text" class="form-control" name="firstPhoneNumber" placeholder="Phone Number" ui-br-phone-number required>    
	          	<span class="help-block" ng-show="editForm.firstPhoneNumber.$dirty && editForm.firstPhoneNumber.$error.required">Telefone é obrigatório.</span>
	      	</div>
	    </div>

	    <div class="col-md-6">
		  	<div class="form-group">
		      	<label class="control-label" for="name">Telefone</label>
		      	<input ng-model="supplier.phones[1].phone" type="text" class="form-control" name="secondPhoneNumber" placeholder="Phone Number" ui-br-phone-number>    
		  	</div>
		</div>

	</div>
	
	<div class="col-md-6">
		
		<div class="col-md-12">
			<div class="form-group" ng-class="{true: 'has-error',false: 'is-required'}[editForm.zipcode.$dirty && editForm.zipcode.$invalid]">
	        	<label class="control-label" for="zipcode">CEP * 
		        <a href="http://www.buscacep.correios.com.br/servicos/dnec/index.do" target="_blank">Não sabe o CEP?</a>
		        </label>
		        <input ng-model="supplier.address.zipCode" ng-blur="findAddressByZipcode(supplier.address.zipCode)" type="text" class="form-control" name="zipcode" placeholder="CEP" ui-br-cep-mask required>    
		        <span class="help-block" ng-show="editForm.zipcode.$dirty && editForm.zipcode.$error.required">CEP é obrigatório.</span>
	      	</div>

	      	<div class="form-group">
	        	<label class="control-label" for="street">Endereço *</label>
	        	<input ng-model="supplier.address.street" type="text" class="form-control" name="street" placeholder="Street" disabled>    
	      	</div>
	    </div>

      	<div class="col-md-6">
	      	<div class="form-group" ng-class="{true: 'has-error',false: 'is-required'}[editForm.number.$dirty && editForm.number.$invalid]">
	          	<label class="control-label" for="number">Número *</label>
	          	<input ng-model="supplier.address.aNumber" type="text" class="form-control" name="number" placeholder="Number" required>    
	          	<span class="help-block" ng-show="editForm.number.$dirty && editForm.number.$error.required">Número é obrigatório.</span>
	      	</div>
	    </div>

	    <div class="col-md-6">
		  	<div class="form-group">
		      	<label class="control-label" for="complement">Complemento</label>
		      	<input ng-model="supplier.address.complement" type="text" class="form-control" name="complement" placeholder="Complement">    
		  	</div>
        </div>

        <div class="col-md-12">
		    <div class="form-group">
		        <label class="control-label" for="neighborhood">Bairro *</label>
		        <input ng-model="supplier.address.neighborhood.name" type="text" class="form-control" name="neighborhood" placeholder="Neighborhood" disabled>    
		    </div>
        </div>

        <div class="col-md-6">
	        <div class="form-group">
	            <label class="control-label" for="city">Cidade *</label>
	            <input ng-model="supplier.address.neighborhood.city.description" type="text" class="form-control" name="city" placeholder="City" disabled>    
	        </div>
	    </div>
        
        <div class="col-md-6">   
	      	<div class="form-group">
	        	<label>Estado *</label>
	        	<input ng-model="supplier.address.neighborhood.city.state.code" type="text" class="form-control" name="state" placeholder="State" disabled>
	      	</div>
	    </div>

	    <div class="col-md-12">
	    	<div class="form-group" ng-class="{true: 'has-error',false: 'is-required'}[editForm.active.$dirty && editForm.active.$invalid]">
				<label>Status *</label>
				<select name="active" ng-model="supplier.active" class="form-control" required 
				ng-controller="ActiveController" ng-options="active.value as (active.name | uppercase) for active in activies">
					<option value="">Escolha um status</option>
				</select>
				<span class="help-block" ng-show="editForm.name.$dirty && editForm.name.$error.required">Status do fornecedor é obrigatório.</span>
			</div>
		</div>

	</div>

	<div class="col-md-12">
		<div class="col-md-12">
			<button type="submit" class="btn btn-primary" ng-disabled="editForm.$invalid">
				Salvar
			</button>
			<a href="#/supplier/list" class="btn btn-primary">Voltar</a>
		</div>
	</div>

</form>